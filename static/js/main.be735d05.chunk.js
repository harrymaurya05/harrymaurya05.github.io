(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{123:function(e,t,a){},130:function(e,t,a){},132:function(e,t,a){"use strict";a.r(t);var o=a(0),r=a.n(o),i=a(29),l=a.n(i),c=a(199),s=a(200),n=a(204),d=a(210),h=a(209),m=a(205),j=a(207),g=a(208),b=a(96),p=a.n(b),u=a(2);var x=function(e){let{isLoading:t,error:a,articles:o}=e;return Object(u.jsx)("main",{children:t?Object(u.jsx)("p",{children:"Loading..."}):a?Object(u.jsx)("div",{className:"error-message",children:Object(u.jsx)("p",{children:a})}):Object(u.jsx)("div",{className:"cards-container container flex",children:Array.isArray(o)&&o.length>0?o.map(((e,t)=>Object(u.jsxs)("div",{className:"card",onClick:()=>window.open(e.page_url,"_blank"),children:[Object(u.jsx)("div",{className:"card-header",children:Object(u.jsx)("img",{src:e.image_url||"https://via.placeholder.com/400x200",alt:"news"})}),Object(u.jsxs)("div",{className:"card-content",children:[Object(u.jsxs)("div",{className:"blog-meta",children:[e.author&&""!==e.author.trim()&&Object(u.jsx)("p",{className:"blog-author",children:e.author}),Object(u.jsx)("p",{className:"blog-date",children:e.blog_date}),Object(u.jsx)("p",{className:"blog-read-time",children:e.blog_read_time})]}),Object(u.jsx)("h3",{children:e.short_title}),Object(u.jsx)("p",{className:"news-desc",children:e.long_title&&e.long_title.length>100?"".concat(e.long_title.substring(0,100),"... read more"):e.long_title||null})]})]},t))):Object(u.jsx)("p",{children:"No articles available"})})})};a(123);const O=[{image_url:"https://via.placeholder.com/400x200",author:"John Doe",blog_date:"2024-07-21",blog_read_time:"5 min read",short_title:"Dummy Title 1",long_title:"This is a longer description for the dummy article 1. It provides additional context and details.",page_url:"#"},{image_url:"https://via.placeholder.com/400x200",author:"Jane Smith",blog_date:"2024-07-20",blog_read_time:"4 min read",short_title:"Dummy Title 2",long_title:"This is a longer description for the dummy article 2. It provides additional context and details.",page_url:"#"},{image_url:"https://via.placeholder.com/400x200",author:"Alice Johnson",blog_date:"2024-07-19",blog_read_time:"6 min read",short_title:"Dummy Title 3",long_title:"This is a longer description for the dummy article 3. It provides additional context and details.",page_url:"#"},{image_url:"https://via.placeholder.com/400x200",author:"Bob Brown",blog_date:"2024-07-18",blog_read_time:"3 min read",short_title:"Dummy Title 4",long_title:"This is a longer description for the dummy article 4. It provides additional context and details.",page_url:"#"},{image_url:"https://via.placeholder.com/400x200",author:"Charlie Davis",blog_date:"2024-07-17",blog_read_time:"7 min read",short_title:"Dummy Title 5",long_title:"This is a longer description for the dummy article 5. It provides additional context and details.",page_url:"#"},{image_url:"https://via.placeholder.com/400x200",author:"Dana Evans",blog_date:"2024-07-16",blog_read_time:"5 min read",short_title:"Dummy Title 6",long_title:"This is a longer description for the dummy article 6. It provides additional context and details.",page_url:"#"}];var _=function(){const[e,t]=Object(o.useState)([]),[a,r]=Object(o.useState)(1),[i,l]=Object(o.useState)("zomato"),[b,_]=Object(o.useState)(""),[y,v]=Object(o.useState)([]),[w,N]=Object(o.useState)(!0),[S,k]=Object(o.useState)(null),[C,I]=Object(o.useState)(!1),T=[{name:"zomato"},{name:"paytm"},{name:"phonepe"}];Object(o.useEffect)((()=>{localStorage.getItem("articles"),localStorage.getItem("currentCategory");D(i)}),[i]),Object(o.useEffect)((()=>{E()}),[]),Object(o.useEffect)((()=>{const e=()=>{window.innerHeight+window.scrollY>=document.body.offsetHeight&&r((e=>e+1))};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}),[]);const E=async()=>{try{const e=await fetch("http://localhost:8080/api/companies",{credentials:"include"});if(!e.ok)throw new Error("Network response was not ok");const t=await e.json();v(t.companies||[])}catch(S){console.error("Error fetching companies:",S),v(T)}},D=async e=>{const a="".concat("http://localhost:8080/api/articles","?company=").concat(e||i);console.log(a);try{const e=await fetch(a,{credentials:"include"});if(!e.ok)throw new Error("Network response was not ok");const o=await e.json();Array.isArray(o.articles)?0===o.articles.length?(t(O),localStorage.setItem("articles",JSON.stringify(O))):(t(o.articles),localStorage.setItem("articles",JSON.stringify(o.articles))):(t(O),localStorage.setItem("articles",JSON.stringify(O))),localStorage.setItem("currentCategory",i)}catch(S){console.error("Error fetching news:",S),t(O),localStorage.setItem("articles",JSON.stringify(O))}finally{N(!1)}},J=()=>{I(!1)};return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)("nav",{children:Object(u.jsxs)("div",{className:"main-nav container flex",children:[Object(u.jsx)("a",{href:"#",onClick:f,className:"company-logo",children:Object(u.jsx)("img",{src:"assets/uniBlog_logo.png",alt:"company logo"})}),Object(u.jsx)("div",{className:"search-bar flex",children:Object(u.jsx)(n.a,{className:"company-search",variant:"contained",color:"primary",onClick:()=>{I(!0)},children:"Search Company"})})]})}),Object(u.jsx)(x,{isLoading:w,error:S,articles:e}),Object(u.jsx)("footer",{className:"footer",children:Object(u.jsx)("div",{className:"container footer-text",children:Object(u.jsx)("p",{children:"\xa9 2024 UniBlog. All rights reserved."})})}),Object(u.jsxs)("button",{className:"back-to-top-floating",onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},children:[Object(u.jsx)("i",{className:"fas fa-arrow-up"})," "]}),Object(u.jsxs)(j.a,{open:C,onClose:J,fullWidth:!0,maxWidth:"sm",children:[Object(u.jsxs)(m.a,{children:["Search Company",Object(u.jsx)(g.a,{edge:"end",color:"inherit",onClick:J,"aria-label":"close",style:{position:"absolute",right:16,top:8},children:Object(u.jsx)(p.a,{})})]}),Object(u.jsx)(h.a,{children:Object(u.jsx)(c.a,{options:y,getOptionLabel:e=>e.name,onChange:(e,t)=>_((null===t||void 0===t?void 0:t.name)||""),renderInput:e=>Object(u.jsx)(s.a,{...e,id:"search-text",type:"text",placeholder:"Search companies",fullWidth:!0,autoFocus:!0})})}),Object(u.jsxs)(d.a,{children:[Object(u.jsx)(n.a,{onClick:J,color:"primary",children:"Cancel"}),Object(u.jsx)(n.a,{onClick:()=>{var e;_(e=b),D(e),l(null),J()},color:"primary",children:"Search"})]})]})]})};function f(){window.location.reload()}a(130);l.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(_,{})}),document.getElementById("root"))}},[[132,1,2]]]);
//# sourceMappingURL=main.be735d05.chunk.js.map