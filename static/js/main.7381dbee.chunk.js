(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{122:function(e,t,a){},130:function(e,t,a){},133:function(e,t,a){"use strict";a.r(t);var o=a(0),c=a.n(o),l=a(29),i=a.n(l),r=a(199),s=a(200),n=a(204),d=a(209),h=a(208),m=a(206),j=a(211),g=a(207),p=a(96),b=a.n(p),u=(a(122),a(2));const x=[{image_url:"https://via.placeholder.com/400x200",author:"John Doe",blog_date:"2024-07-21",blog_read_time:"5 min read",short_title:"Dummy Title 1",long_title:"This is a longer description for the dummy article 1. It provides additional context and details.",page_url:"#"},{image_url:"https://via.placeholder.com/400x200",author:"Jane Smith",blog_date:"2024-07-20",blog_read_time:"4 min read",short_title:"Dummy Title 2",long_title:"This is a longer description for the dummy article 2. It provides additional context and details.",page_url:"#"},{image_url:"https://via.placeholder.com/400x200",author:"Alice Johnson",blog_date:"2024-07-19",blog_read_time:"6 min read",short_title:"Dummy Title 3",long_title:"This is a longer description for the dummy article 3. It provides additional context and details.",page_url:"#"},{image_url:"https://via.placeholder.com/400x200",author:"Bob Brown",blog_date:"2024-07-18",blog_read_time:"3 min read",short_title:"Dummy Title 4",long_title:"This is a longer description for the dummy article 4. It provides additional context and details.",page_url:"#"},{image_url:"https://via.placeholder.com/400x200",author:"Charlie Davis",blog_date:"2024-07-17",blog_read_time:"7 min read",short_title:"Dummy Title 5",long_title:"This is a longer description for the dummy article 5. It provides additional context and details.",page_url:"#"},{image_url:"https://via.placeholder.com/400x200",author:"Dana Evans",blog_date:"2024-07-16",blog_read_time:"5 min read",short_title:"Dummy Title 6",long_title:"This is a longer description for the dummy article 6. It provides additional context and details.",page_url:"#"}];var _=function(){const[e,t]=Object(o.useState)([]),[a,c]=Object(o.useState)("zomato"),[l,i]=Object(o.useState)(""),[p,_]=Object(o.useState)([]),[y,f]=Object(o.useState)(!0),[v,N]=Object(o.useState)(null),[w,S]=Object(o.useState)(!1),k="127.0.0.1",C=[{name:"zomato"},{name:"paytm"},{name:"phonepe"}];Object(o.useEffect)((()=>{localStorage.getItem("articles"),localStorage.getItem("currentCategory");T(a)}),[a]),Object(o.useEffect)((()=>{I()}),[]);const I=async()=>{const e="http://".concat(k,":8080/api/companies");try{const t=await fetch(e,{credentials:"include"});if(!t.ok)throw new Error("Network response was not ok");const a=await t.json();_(a.companies||[])}catch(v){console.error("Error fetching companies:",v),_(C)}},T=async e=>{const o="http://".concat(k,":8080/api/articles"),c="".concat(o,"?company=").concat(e||a);console.log(c);try{const e=await fetch(c,{credentials:"include"});if(!e.ok)throw new Error("Network response was not ok");const o=await e.json();Array.isArray(o.articles)?0===o.articles.length?(t(x),localStorage.setItem("articles",JSON.stringify(x))):(t(o.articles),localStorage.setItem("articles",JSON.stringify(o.articles))):(t(x),localStorage.setItem("articles",JSON.stringify(x))),localStorage.setItem("currentCategory",a)}catch(v){console.error("Error fetching news:",v),t(x),localStorage.setItem("articles",JSON.stringify(x))}finally{f(!1)}},D=()=>{S(!1)};return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)("nav",{children:Object(u.jsxs)("div",{className:"main-nav container flex",children:[Object(u.jsx)("a",{href:"#",onClick:O,className:"company-logo",children:Object(u.jsx)("img",{src:"assets/uniBlog_logo.png",alt:"company logo"})}),Object(u.jsx)("div",{className:"search-bar flex",children:Object(u.jsx)(n.a,{className:"company-search",variant:"contained",color:"primary",onClick:()=>{S(!0)},children:"Search Company"})})]})}),Object(u.jsx)("main",{children:y?Object(u.jsx)("p",{children:"Loading..."}):v?Object(u.jsx)("div",{className:"error-message",children:Object(u.jsx)("p",{children:v})}):Object(u.jsx)("div",{className:"cards-container container flex",children:Array.isArray(e)&&e.length>0?e.map(((e,t)=>Object(u.jsxs)("div",{className:"card",onClick:()=>window.open(e.page_url,"_blank"),children:[Object(u.jsx)("div",{className:"card-header",children:Object(u.jsx)("img",{src:e.image_url||"https://via.placeholder.com/400x200",alt:"news"})}),Object(u.jsxs)("div",{className:"card-content",children:[Object(u.jsxs)("div",{className:"blog-meta",children:[Object(u.jsx)("p",{className:"blog-author",children:e.author}),Object(u.jsx)("p",{className:"blog-date",children:e.blog_date}),Object(u.jsx)("p",{className:"blog-read-time",children:e.blog_read_time})]}),Object(u.jsx)("h3",{children:e.short_title}),Object(u.jsx)("p",{className:"news-desc",children:e.long_title&&e.long_title.length>100?"".concat(e.long_title.substring(0,100),"... read more"):e.long_title||null})]})]},t))):Object(u.jsx)("p",{children:"No articles available"})})}),Object(u.jsx)("footer",{className:"footer",children:Object(u.jsx)("div",{className:"container footer-text",children:Object(u.jsx)("p",{children:"\xa9 2024 UniBlog. All rights reserved."})})}),Object(u.jsx)("button",{className:"back-to-top-floating",onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},children:"\u2191"}),Object(u.jsxs)(j.a,{open:w,onClose:D,fullWidth:!0,maxWidth:"sm",children:[Object(u.jsxs)(m.a,{children:["Search Company",Object(u.jsx)(g.a,{edge:"end",color:"inherit",onClick:D,"aria-label":"close",style:{position:"absolute",right:16,top:8},children:Object(u.jsx)(b.a,{})})]}),Object(u.jsx)(h.a,{children:Object(u.jsx)(r.a,{options:p,getOptionLabel:e=>e.name,onChange:(e,t)=>i((null===t||void 0===t?void 0:t.name)||""),renderInput:e=>Object(u.jsx)(s.a,{...e,id:"search-text",type:"text",placeholder:"Search companies",fullWidth:!0,autoFocus:!0})})}),Object(u.jsxs)(d.a,{children:[Object(u.jsx)(n.a,{onClick:D,color:"primary",children:"Cancel"}),Object(u.jsx)(n.a,{onClick:()=>{var e;i(e=l),T(e),c(null),D()},color:"primary",children:"Search"})]})]})]})};function O(){window.location.reload()}a(130);i.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(_,{})}),document.getElementById("root"))}},[[133,1,2]]]);
//# sourceMappingURL=main.7381dbee.chunk.js.map