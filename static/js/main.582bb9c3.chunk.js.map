{"version":3,"sources":["App.js","index.js"],"names":["dummyArticles","image_url","author","blog_date","blog_read_time","short_title","long_title","page_url","App","articles","setArticles","useState","currentCategory","setCurrentCategory","searchQuery","setSearchQuery","companyList","setCompanyList","isLoading","setIsLoading","error","setError","open","setOpen","companyListDummy","name","useEffect","localStorage","getItem","fetchNews","fetchCompanies","async","res","fetch","credentials","ok","Error","data","json","companies","console","newsUrl","concat","query","log","Array","isArray","length","setItem","JSON","stringify","handleClose","_jsxs","className","children","_jsx","href","onClick","reload","src","alt","Button","variant","color","handleClickOpen","map","article","index","window","substring","scrollToTop","scrollTo","top","behavior","Dialog","onClose","fullWidth","maxWidth","DialogTitle","IconButton","edge","style","position","right","CloseIcon","DialogContent","Autocomplete","options","getOptionLabel","option","onChange","event","value","renderInput","params","TextField","id","type","placeholder","autoFocus","DialogActions","handleSearchSubmit","selectedCompany","location","ReactDOM","render","React","StrictMode","document","getElementById"],"mappings":"iSAaA,MAAMA,EAAgB,CACpB,CACEC,UAAW,sCACXC,OAAQ,WACRC,UAAW,aACXC,eAAgB,aAChBC,YAAa,gBACbC,WAAY,oGACZC,SAAU,KAEZ,CACEN,UAAW,sCACXC,OAAQ,aACRC,UAAW,aACXC,eAAgB,aAChBC,YAAa,gBACbC,WAAY,oGACZC,SAAU,KAEZ,CACEN,UAAW,sCACXC,OAAQ,gBACRC,UAAW,aACXC,eAAgB,aAChBC,YAAa,gBACbC,WAAY,oGACZC,SAAU,KAEZ,CACEN,UAAW,sCACXC,OAAQ,YACRC,UAAW,aACXC,eAAgB,aAChBC,YAAa,gBACbC,WAAY,oGACZC,SAAU,KAEZ,CACEN,UAAW,sCACXC,OAAQ,gBACRC,UAAW,aACXC,eAAgB,aAChBC,YAAa,gBACbC,WAAY,oGACZC,SAAU,KAEZ,CACEN,UAAW,sCACXC,OAAQ,aACRC,UAAW,aACXC,eAAgB,aAChBC,YAAa,gBACbC,WAAY,oGACZC,SAAU,MAqOCC,MAhOf,WACE,MAAOC,EAAUC,GAAeC,mBAAS,KAClCC,EAAiBC,GAAsBF,mBAAS,WAChDG,EAAaC,GAAkBJ,mBAAS,KACxCK,EAAaC,GAAkBN,mBAAS,KACxCO,EAAWC,GAAgBR,oBAAS,IACpCS,EAAOC,GAAYV,mBAAS,OAC5BW,EAAMC,GAAWZ,oBAAS,GAK3Ba,EAAmB,CACvB,CAAEC,KAAM,UACR,CAAEA,KAAM,SACR,CAAEA,KAAM,YAGVC,qBAAU,KACeC,aAAaC,QAAQ,YACrBD,aAAaC,QAAQ,mBAQ5CC,EAAUjB,EAAgB,GACzB,CAACA,IAEJc,qBAAU,KACRI,GAAgB,GACf,IAEH,MAAMA,EAAiBC,UAGrB,IACE,MAAMC,QAAYC,MAHP,sCAGsB,CAC/BC,YAAa,YAGf,IAAKF,EAAIG,GACP,MAAM,IAAIC,MAAM,+BAGlB,MAAMC,QAAaL,EAAIM,OACvBrB,EAAeoB,EAAKE,WAAa,GACnC,CAAE,MAAOnB,GACPoB,QAAQpB,MAAM,4BAA6BA,GAC3CH,EAAeO,EACjB,GAGIK,EAAYE,UAChB,MACMU,EAAO,GAAAC,OADA,qCACa,aAAAA,OAAYC,GAAS/B,GAC/C4B,QAAQI,IAAIH,GACZ,IACE,MAAMT,QAAYC,MAAMQ,EAAS,CAC/BP,YAAa,YAGf,IAAKF,EAAIG,GACP,MAAM,IAAIC,MAAM,+BAGlB,MAAMC,QAAaL,EAAIM,OAEnBO,MAAMC,QAAQT,EAAK5B,UACQ,IAAzB4B,EAAK5B,SAASsC,QAChBrC,EAAYV,GACZ2B,aAAaqB,QAAQ,WAAYC,KAAKC,UAAUlD,MAEhDU,EAAY2B,EAAK5B,UACjBkB,aAAaqB,QAAQ,WAAYC,KAAKC,UAAUb,EAAK5B,aAGvDC,EAAYV,GACZ2B,aAAaqB,QAAQ,WAAYC,KAAKC,UAAUlD,KAElD2B,aAAaqB,QAAQ,kBAAmBpC,EAC1C,CAAE,MAAOQ,GACPoB,QAAQpB,MAAM,uBAAwBA,GACtCV,EAAYV,GACZ2B,aAAaqB,QAAQ,WAAYC,KAAKC,UAAUlD,GAClD,CAAC,QACCmB,GAAa,EACf,GAoBIgC,EAAcA,KAClB5B,GAAQ,EAAM,EAQhB,OACE6B,eAAA,OAAKC,UAAU,MAAKC,SAAA,CAClBC,cAAA,OAAAD,SACEF,eAAA,OAAKC,UAAU,0BAAyBC,SAAA,CACtCC,cAAA,KAAGC,KAAK,IAAIC,QAASC,EAAQL,UAAU,eAAcC,SACnDC,cAAA,OAAKI,IAAI,0BAA0BC,IAAI,mBAEzCL,cAAA,OAAKF,UAAU,kBAAiBC,SAC9BC,cAACM,IAAM,CAACR,UAAU,iBAAiBS,QAAQ,YAAYC,MAAM,UAAUN,QArBzDO,KACtBzC,GAAQ,EAAK,EAoB2F+B,SAAC,0BAOvGC,cAAA,QAAAD,SACGpC,EACCqC,cAAA,KAAAD,SAAG,eACDlC,EACFmC,cAAA,OAAKF,UAAU,gBAAeC,SAC5BC,cAAA,KAAAD,SAAIlC,MAGNmC,cAAA,OAAKF,UAAU,iCAAgCC,SAC5CT,MAAMC,QAAQrC,IAAaA,EAASsC,OAAS,EAC5CtC,EAASwD,KAAI,CAACC,EAASC,IACrBf,eAAA,OAAKC,UAAU,OAAmBI,QAASA,IAAMW,OAAO9C,KAAK4C,EAAQ3D,SAAU,UAAU+C,SAAA,CACvFC,cAAA,OAAKF,UAAU,cAAaC,SAC1BC,cAAA,OAAKI,IAAKO,EAAQjE,WAAa,sCAAuC2D,IAAI,WAE5ER,eAAA,OAAKC,UAAU,eAAcC,SAAA,CAC3BF,eAAA,OAAKC,UAAU,YAAWC,SAAA,CACxBC,cAAA,KAAGF,UAAU,cAAaC,SAAEY,EAAQhE,SACpCqD,cAAA,KAAGF,UAAU,YAAWC,SAAEY,EAAQ/D,YAClCoD,cAAA,KAAGF,UAAU,iBAAgBC,SAAEY,EAAQ9D,oBAEzCmD,cAAA,MAAAD,SAAKY,EAAQ7D,cACbkD,cAAA,KAAGF,UAAU,YAAWC,SACrBY,EAAQ5D,YAAc4D,EAAQ5D,WAAWyC,OAAS,IAAG,GAAAL,OAC/CwB,EAAQ5D,WAAW+D,UAAU,EAAG,KAAI,iBACvCH,EAAQ5D,YAAc,YAdL6D,KAoB7BZ,cAAA,KAAAD,SAAG,8BAMXC,cAAA,UAAQF,UAAU,SAAQC,SACxBC,cAAA,OAAKF,UAAU,wBAAuBC,SACpCC,cAAA,KAAAD,SAAG,gDAIPC,cAAA,UAAQF,UAAU,uBAAuBI,QA9EzBa,KAClBF,OAAOG,SAAS,CACdC,IAAK,EACLC,SAAU,UACV,EA0E8DnB,SAAC,WAK/DF,eAACsB,IAAM,CAACpD,KAAMA,EAAMqD,QAASxB,EAAayB,WAAS,EAACC,SAAS,KAAIvB,SAAA,CAC/DF,eAAC0B,IAAW,CAAAxB,SAAA,CAAC,iBAEXC,cAACwB,IAAU,CACTC,KAAK,MACLjB,MAAM,UACNN,QAASN,EACT,aAAW,QACX8B,MAAO,CAAEC,SAAU,WAAYC,MAAO,GAAIX,IAAK,GAAIlB,SAEnDC,cAAC6B,IAAS,SAGd7B,cAAC8B,IAAa,CAAA/B,SACZC,cAAC+B,IAAY,CACXC,QAASvE,EACTwE,eAAiBC,GAAWA,EAAOhE,KACnCiE,SAAUA,CAACC,EAAOC,IAAU7E,GAAoB,OAAL6E,QAAK,IAALA,OAAK,EAALA,EAAOnE,OAAQ,IAC1DoE,YAAcC,GACZvC,cAACwC,IAAS,IACJD,EACJE,GAAG,cACHC,KAAK,OACLC,YAAY,mBACZtB,WAAS,EACTuB,WAAS,QAKjB/C,eAACgD,IAAa,CAAA9C,SAAA,CACZC,cAACM,IAAM,CAACJ,QAASN,EAAaY,MAAM,UAAST,SAAC,WAG9CC,cAACM,IAAM,CAACJ,QAtGW4C,KArBLC,MACpBvF,EADoBuF,EAsBPxF,GApBbe,EAAUyE,GACVzF,EAAmB,MAoBnBsC,GAAa,EAoG8BY,MAAM,UAAST,SAAC,mBAO/D,EAIA,SAASI,IACPU,OAAOmC,SAAS7C,QAClB,C,OCtSA8C,IAASC,OACPlD,cAACmD,IAAMC,WAAU,CAAArD,SACfC,cAAC/C,EAAG,MAENoG,SAASC,eAAe,Q","file":"static/js/main.582bb9c3.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Autocomplete from '@mui/material/Autocomplete';\nimport TextField from '@mui/material/TextField';\nimport Button from '@mui/material/Button';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport Dialog from '@mui/material/Dialog';\nimport IconButton from '@mui/material/IconButton';\nimport CloseIcon from '@mui/icons-material/Close';\n\nimport './App.css';\n\nconst dummyArticles = [\n  {\n    image_url: \"https://via.placeholder.com/400x200\",\n    author: \"John Doe\",\n    blog_date: \"2024-07-21\",\n    blog_read_time: \"5 min read\",\n    short_title: \"Dummy Title 1\",\n    long_title: \"This is a longer description for the dummy article 1. It provides additional context and details.\",\n    page_url: \"#\"\n  },\n  {\n    image_url: \"https://via.placeholder.com/400x200\",\n    author: \"Jane Smith\",\n    blog_date: \"2024-07-20\",\n    blog_read_time: \"4 min read\",\n    short_title: \"Dummy Title 2\",\n    long_title: \"This is a longer description for the dummy article 2. It provides additional context and details.\",\n    page_url: \"#\"\n  },\n  {\n    image_url: \"https://via.placeholder.com/400x200\",\n    author: \"Alice Johnson\",\n    blog_date: \"2024-07-19\",\n    blog_read_time: \"6 min read\",\n    short_title: \"Dummy Title 3\",\n    long_title: \"This is a longer description for the dummy article 3. It provides additional context and details.\",\n    page_url: \"#\"\n  },\n  {\n    image_url: \"https://via.placeholder.com/400x200\",\n    author: \"Bob Brown\",\n    blog_date: \"2024-07-18\",\n    blog_read_time: \"3 min read\",\n    short_title: \"Dummy Title 4\",\n    long_title: \"This is a longer description for the dummy article 4. It provides additional context and details.\",\n    page_url: \"#\"\n  },\n  {\n    image_url: \"https://via.placeholder.com/400x200\",\n    author: \"Charlie Davis\",\n    blog_date: \"2024-07-17\",\n    blog_read_time: \"7 min read\",\n    short_title: \"Dummy Title 5\",\n    long_title: \"This is a longer description for the dummy article 5. It provides additional context and details.\",\n    page_url: \"#\"\n  },\n  {\n    image_url: \"https://via.placeholder.com/400x200\",\n    author: \"Dana Evans\",\n    blog_date: \"2024-07-16\",\n    blog_read_time: \"5 min read\",\n    short_title: \"Dummy Title 6\",\n    long_title: \"This is a longer description for the dummy article 6. It provides additional context and details.\",\n    page_url: \"#\"\n  }\n];\n\n\nfunction App() {\n  const [articles, setArticles] = useState([]);\n  const [currentCategory, setCurrentCategory] = useState(\"zomato\");\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [companyList, setCompanyList] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [open, setOpen] = useState(false);\n  const base_ip = \"3.231.236.198\";\n  //const base_ip = \"127.0.0.1\";\n  //const port = \"8081\";\n  const port = \"8080\";\n  const companyListDummy = [\n    { name: \"zomato\" },\n    { name: \"paytm\" },\n    { name: \"phonepe\" }\n  ];\n\n  useEffect(() => {\n    const cachedArticles = localStorage.getItem('articles');\n    const cachedCategory = localStorage.getItem('currentCategory');\n\n    // if (cachedArticles && cachedCategory === currentCategory) {\n    //   setArticles(JSON.parse(cachedArticles));\n    //   setIsLoading(false);\n    // } else {\n    //   fetchNews(currentCategory);\n    // }\n    fetchNews(currentCategory);\n  }, [currentCategory]);\n\n  useEffect(() => {\n    fetchCompanies();\n  }, []);\n\n  const fetchCompanies = async () => {\n    const baseUrl = `https://uniblog.click/api/companies`;\n\n    try {\n      const res = await fetch(baseUrl, {\n        credentials: 'include'\n      });\n\n      if (!res.ok) {\n        throw new Error('Network response was not ok');\n      }\n\n      const data = await res.json();\n      setCompanyList(data.companies || []);\n    } catch (error) {\n      console.error(\"Error fetching companies:\", error);\n      setCompanyList(companyListDummy);\n    }\n  };\n\n  const fetchNews = async (query) => {\n    const baseUrl = `https://uniblog.click/api/articles`;\n    const newsUrl = `${baseUrl}?company=${query || currentCategory}`;\n    console.log(newsUrl);\n    try {\n      const res = await fetch(newsUrl, {\n        credentials: 'include'\n      });\n\n      if (!res.ok) {\n        throw new Error('Network response was not ok');\n      }\n\n      const data = await res.json();\n\n      if (Array.isArray(data.articles)) {\n        if (data.articles.length === 0) {\n          setArticles(dummyArticles);\n          localStorage.setItem('articles', JSON.stringify(dummyArticles)); // Cache dummy data\n        } else {\n          setArticles(data.articles);\n          localStorage.setItem('articles', JSON.stringify(data.articles)); // Cache actual data\n        }\n      } else {\n        setArticles(dummyArticles);\n        localStorage.setItem('articles', JSON.stringify(dummyArticles)); // Cache dummy data\n      }\n      localStorage.setItem('currentCategory', currentCategory); // Cache current category\n    } catch (error) {\n      console.error(\"Error fetching news:\", error);\n      setArticles(dummyArticles);\n      localStorage.setItem('articles', JSON.stringify(dummyArticles)); // Cache dummy data\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleSearch = (selectedCompany) => {\n    setSearchQuery(selectedCompany);\n    fetchNews(selectedCompany);\n    setCurrentCategory(null);\n  };\n\n  const scrollToTop = () => {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    });\n  };\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleSearchSubmit = () => {\n    handleSearch(searchQuery);\n    handleClose();\n  };\n\n  return (\n    <div className=\"App\">\n      <nav>\n        <div className=\"main-nav container flex\">\n          <a href=\"#\" onClick={reload} className=\"company-logo\">\n            <img src=\"assets/uniBlog_logo.png\" alt=\"company logo\" />\n          </a>\n          <div className=\"search-bar flex\">\n            <Button className=\"company-search\" variant=\"contained\" color=\"primary\" onClick={handleClickOpen}>\n              Search Company\n            </Button>\n          </div>\n        </div>\n      </nav>\n\n      <main>\n        {isLoading ? (\n          <p>Loading...</p>\n        ) : error ? (\n          <div className=\"error-message\">\n            <p>{error}</p>\n          </div>\n        ) : (\n          <div className=\"cards-container container flex\">\n            {Array.isArray(articles) && articles.length > 0 ? (\n              articles.map((article, index) => (\n                <div className=\"card\" key={index} onClick={() => window.open(article.page_url, \"_blank\")}>\n                  <div className=\"card-header\">\n                    <img src={article.image_url || \"https://via.placeholder.com/400x200\"} alt=\"news\" />\n                  </div>\n                  <div className=\"card-content\">\n                    <div className=\"blog-meta\">\n                      <p className=\"blog-author\">{article.author}</p>\n                      <p className=\"blog-date\">{article.blog_date}</p>\n                      <p className=\"blog-read-time\">{article.blog_read_time}</p>\n                    </div>\n                    <h3>{article.short_title}</h3>\n                    <p className=\"news-desc\">\n                      {article.long_title && article.long_title.length > 100\n                        ? `${article.long_title.substring(0, 100)}... read more`\n                        : article.long_title || null}\n                    </p>\n                  </div>\n                </div>\n              ))\n            ) : (\n              <p>No articles available</p>\n            )}\n          </div>\n        )}\n      </main>\n\n      <footer className=\"footer\">\n        <div className=\"container footer-text\">\n          <p>&copy; 2024 UniBlog. All rights reserved.</p>\n        </div>\n      </footer>\n\n      <button className=\"back-to-top-floating\" onClick={scrollToTop}>\n        ↑\n      </button>\n\n      {/* Search Popup */}\n      <Dialog open={open} onClose={handleClose} fullWidth maxWidth=\"sm\">\n        <DialogTitle>\n          Search Company\n          <IconButton\n            edge=\"end\"\n            color=\"inherit\"\n            onClick={handleClose}\n            aria-label=\"close\"\n            style={{ position: 'absolute', right: 16, top: 8 }}\n          >\n            <CloseIcon />\n          </IconButton>\n        </DialogTitle>\n        <DialogContent>\n          <Autocomplete\n            options={companyList}\n            getOptionLabel={(option) => option.name}\n            onChange={(event, value) => setSearchQuery(value?.name || '')}\n            renderInput={(params) => (\n              <TextField\n                {...params}\n                id=\"search-text\"\n                type=\"text\"\n                placeholder=\"Search companies\"\n                fullWidth\n                autoFocus\n              />\n            )}\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={handleSearchSubmit} color=\"primary\">\n            Search\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n\nexport default App;\n\nfunction reload() {\n  window.location.reload();\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'; // Adjust the path if necessary\nimport './index.css'; // Optional: Import CSS if you have styling for your app\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}