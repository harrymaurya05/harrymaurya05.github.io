(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{129:function(e,t,a){},136:function(e,t,a){},138:function(e,t,a){"use strict";a.r(t);var r=a(0),i=a.n(r),o=a(29),l=a.n(o),c=a(95),s=a(205),n=a(206),d=a(210),h=a(216),m=a(215),j=a(211),g=a(213),b=a(214),p=a(99),u=a.n(p),x=a(2);var O=function(e){let{isLoading:t,error:a,articles:r}=e;return Object(x.jsx)("main",{children:t?Object(x.jsx)("p",{children:"Loading..."}):a?Object(x.jsx)("div",{className:"error-message",children:Object(x.jsx)("p",{children:a})}):Object(x.jsx)("div",{className:"cards-container container flex",children:Array.isArray(r)&&r.length>0?r.map(((e,t)=>Object(x.jsxs)("div",{className:"card",onClick:()=>window.open(e.page_url,"_blank"),children:[Object(x.jsx)("div",{className:"card-header",children:Object(x.jsx)("img",{src:e.image_url||"https://via.placeholder.com/400x200",alt:"news"})}),Object(x.jsxs)("div",{className:"card-content",children:[Object(x.jsxs)("div",{className:"blog-meta",children:[e.author&&""!==e.author.trim()&&Object(x.jsx)("p",{className:"blog-author",children:e.author}),e.blog_date&&""!==e.blog_date.trim()&&Object(x.jsx)("p",{className:"blog-date",children:e.blog_date}),e.blog_read_time&&""!==e.blog_read_time.trim()&&Object(x.jsx)("p",{className:"blog-read-time",children:e.blog_read_time})]}),Object(x.jsx)("h3",{children:e.short_title}),Object(x.jsx)("p",{className:"news-desc",children:e.long_title&&e.long_title.length>100?`${e.long_title.substring(0,100)}... read more`:e.long_title||null})]})]},t))):Object(x.jsx)("p",{children:"No articles available"})})})};a(129);const _=[{image_url:"https://via.placeholder.com/400x200",author:"John Doe",blog_date:"2024-07-21",blog_read_time:"5 min read",short_title:"Dummy Title 1",long_title:"This is a longer description for the dummy article 1. It provides additional context and details.",page_url:"#"},{image_url:"https://via.placeholder.com/400x200",author:"Jane Smith",blog_date:"2024-07-20",blog_read_time:"4 min read",short_title:"Dummy Title 2",long_title:"This is a longer description for the dummy article 2. It provides additional context and details.",page_url:"#"},{image_url:"https://via.placeholder.com/400x200",author:"Alice Johnson",blog_date:"2024-07-19",blog_read_time:"6 min read",short_title:"Dummy Title 3",long_title:"This is a longer description for the dummy article 3. It provides additional context and details.",page_url:"#"},{image_url:"https://via.placeholder.com/400x200",author:"Bob Brown",blog_date:"2024-07-18",blog_read_time:"3 min read",short_title:"Dummy Title 4",long_title:"This is a longer description for the dummy article 4. It provides additional context and details.",page_url:"#"},{image_url:"https://via.placeholder.com/400x200",author:"Charlie Davis",blog_date:"2024-07-17",blog_read_time:"7 min read",short_title:"Dummy Title 5",long_title:"This is a longer description for the dummy article 5. It provides additional context and details.",page_url:"#"},{image_url:"https://via.placeholder.com/400x200",author:"Dana Evans",blog_date:"2024-07-16",blog_read_time:"5 min read",short_title:"Dummy Title 6",long_title:"This is a longer description for the dummy article 6. It provides additional context and details.",page_url:"#"}];var f=function(){const[e,t]=Object(r.useState)([]),[a,i]=Object(r.useState)(1),[o,l]=Object(r.useState)("uber"),[p,f]=Object(r.useState)(""),[v,w]=Object(r.useState)([]),[N,S]=Object(r.useState)(!0),[k,C]=Object(r.useState)(null),[I,T]=Object(r.useState)(!1),E=[{name:"zomato"},{name:"paytm"},{name:"phonepe"}];Object(r.useEffect)((()=>{localStorage.getItem("articles"),localStorage.getItem("currentCategory");J(o)}),[o]),Object(r.useEffect)((()=>{D()}),[]),Object(r.useEffect)((()=>{const e=()=>{window.innerHeight+window.scrollY>=document.body.offsetHeight&&i((e=>e+1))};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}),[]);const D=async()=>{try{const e=await fetch("https://uniblog.click/api/companies",{credentials:"include"});if(!e.ok)throw new Error("Network response was not ok");const t=await e.json();w(t.companies||[])}catch(k){console.error("Error fetching companies:",k),w(E)}},J=async e=>{const a=`https://uniblog.click/api/articles?company=${e||o}`;console.log(a);try{const e=await fetch(a,{credentials:"include"});if(!e.ok)throw new Error("Network response was not ok");const r=await e.json();Array.isArray(r.articles)?0===r.articles.length?(t(_),localStorage.setItem("articles",JSON.stringify(_))):(t(r.articles),localStorage.setItem("articles",JSON.stringify(r.articles))):(t(_),localStorage.setItem("articles",JSON.stringify(_))),localStorage.setItem("currentCategory",o)}catch(k){console.error("Error fetching news:",k),t(_),localStorage.setItem("articles",JSON.stringify(_))}finally{S(!1)}},L=()=>{T(!1)};return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(c.a,{children:[Object(x.jsx)("title",{children:"UniBlog - One Place Learning"}),Object(x.jsx)("meta",{name:"description",content:"Learn about tech blogs, news, and updates."}),Object(x.jsx)("meta",{name:"keywords",content:"Tech blogs, learning, news"})]}),Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)("nav",{children:Object(x.jsxs)("div",{className:"main-nav container flex",children:[Object(x.jsx)("a",{href:"#",onClick:y,className:"company-logo",children:Object(x.jsx)("img",{src:"assets/uniBlog_logo.png",alt:"company logo"})}),Object(x.jsx)("div",{className:"search-bar flex",children:Object(x.jsx)(d.a,{className:"company-search",variant:"contained",color:"primary",onClick:()=>{T(!0)},children:"Search Company"})})]})}),Object(x.jsx)(O,{isLoading:N,error:k,articles:e}),Object(x.jsx)("footer",{className:"footer",children:Object(x.jsx)("div",{className:"container footer-text",children:Object(x.jsx)("p",{children:"\xa9 2024 UniBlog. All rights reserved."})})}),Object(x.jsxs)("button",{className:"back-to-top-floating",onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},children:[Object(x.jsx)("i",{className:"fas fa-arrow-up"})," "]}),Object(x.jsxs)(g.a,{open:I,onClose:L,fullWidth:!0,maxWidth:"sm",children:[Object(x.jsxs)(j.a,{children:["Search Company",Object(x.jsx)(b.a,{edge:"end",color:"inherit",onClick:L,"aria-label":"close",style:{position:"absolute",right:16,top:8},children:Object(x.jsx)(u.a,{})})]}),Object(x.jsx)(m.a,{children:Object(x.jsx)(s.a,{options:v,getOptionLabel:e=>e.name,onChange:(e,t)=>f((null===t||void 0===t?void 0:t.name)||""),renderInput:e=>Object(x.jsx)(n.a,{...e,id:"search-text",type:"text",placeholder:"Search companies",fullWidth:!0,autoFocus:!0})})}),Object(x.jsxs)(h.a,{children:[Object(x.jsx)(d.a,{onClick:L,color:"primary",children:"Cancel"}),Object(x.jsx)(d.a,{onClick:()=>{var e;f(e=p),J(e),l(null),L()},color:"primary",children:"Search"})]})]})]})]})};function y(){window.location.reload()}a(136);l.a.render(Object(x.jsx)(i.a.StrictMode,{children:Object(x.jsx)(f,{})}),document.getElementById("root"))}},[[138,1,2]]]);
//# sourceMappingURL=main.9a76f74e.chunk.js.map