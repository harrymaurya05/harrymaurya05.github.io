{"version":3,"sources":["components/CardTamplate.js","App.js","index.js"],"names":["CardTamplate","_ref","isLoading","error","articles","_jsx","children","className","Array","isArray","length","map","article","index","_jsxs","onClick","window","open","page_url","src","image_url","alt","author","trim","blog_date","blog_read_time","short_title","long_title","concat","substring","dummyArticles","App","setArticles","useState","currentPage","setCurrentPage","currentCategory","setCurrentCategory","searchQuery","setSearchQuery","companyList","setCompanyList","setIsLoading","setError","setOpen","companyListDummy","name","useEffect","localStorage","getItem","fetchNews","fetchCompanies","handleScroll","innerHeight","scrollY","document","body","offsetHeight","prevPage","addEventListener","removeEventListener","async","res","fetch","credentials","ok","Error","data","json","companies","console","newsUrl","query","log","setItem","JSON","stringify","handleClose","href","reload","Button","variant","color","handleClickOpen","scrollToTop","scrollTo","top","behavior","Dialog","onClose","fullWidth","maxWidth","DialogTitle","IconButton","edge","style","position","right","CloseIcon","DialogContent","Autocomplete","options","getOptionLabel","option","onChange","event","value","renderInput","params","TextField","id","type","placeholder","autoFocus","DialogActions","handleSearchSubmit","selectedCompany","location","ReactDOM","render","React","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8045fd07.chunk.js","sourcesContent":["function CardTamplate({isLoading,error,articles}){\n    //const {isLoading,error,article} =  props;\n    return (\n        <main>\n        {isLoading ? (\n          <p>Loading...</p>\n        ) : error ? (\n          <div className=\"error-message\">\n            <p>{error}</p>\n          </div>\n        ) : (\n          <div className=\"cards-container container flex\">\n            {Array.isArray(articles) && articles.length > 0 ? (\n              articles.map((article, index) => (\n                <div className=\"card\" key={index} onClick={() => window.open(article.page_url, \"_blank\")}>\n                  <div className=\"card-header\">\n                    <img src={article.image_url || \"https://via.placeholder.com/400x200\"} alt=\"news\" />\n                  </div>\n                  <div className=\"card-content\">\n                    <div className=\"blog-meta\">\n                    {article.author && article.author.trim() !== \"\" && (\n                      <p className=\"blog-author\">{article.author}</p>\n                    )}                      \n                    <p className=\"blog-date\">{article.blog_date}</p>\n                    <p className=\"blog-read-time\">{article.blog_read_time}</p>\n                    </div>\n                    <h3>{article.short_title}</h3>\n                    <p className=\"news-desc\">\n                      {article.long_title && article.long_title.length > 100\n                        ? `${article.long_title.substring(0, 100)}... read more`\n                        : article.long_title || null}\n                    </p>\n                  </div>\n                </div>\n              ))\n            ) : (\n              <p>No articles available</p>\n            )}\n          </div>\n        )}\n      </main>\n    );\n}\nexport default CardTamplate;","import React, { useState, useEffect } from 'react';\nimport Autocomplete from '@mui/material/Autocomplete';\nimport TextField from '@mui/material/TextField';\nimport Button from '@mui/material/Button';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport Dialog from '@mui/material/Dialog';\nimport IconButton from '@mui/material/IconButton';\nimport CloseIcon from '@mui/icons-material/Close';\nimport CardTamplate from './components/CardTamplate';\nimport './App.css';\n\nconst dummyArticles = [\n  {\n    image_url: \"https://via.placeholder.com/400x200\",\n    author: \"John Doe\",\n    blog_date: \"2024-07-21\",\n    blog_read_time: \"5 min read\",\n    short_title: \"Dummy Title 1\",\n    long_title: \"This is a longer description for the dummy article 1. It provides additional context and details.\",\n    page_url: \"#\"\n  },\n  {\n    image_url: \"https://via.placeholder.com/400x200\",\n    author: \"Jane Smith\",\n    blog_date: \"2024-07-20\",\n    blog_read_time: \"4 min read\",\n    short_title: \"Dummy Title 2\",\n    long_title: \"This is a longer description for the dummy article 2. It provides additional context and details.\",\n    page_url: \"#\"\n  },\n  {\n    image_url: \"https://via.placeholder.com/400x200\",\n    author: \"Alice Johnson\",\n    blog_date: \"2024-07-19\",\n    blog_read_time: \"6 min read\",\n    short_title: \"Dummy Title 3\",\n    long_title: \"This is a longer description for the dummy article 3. It provides additional context and details.\",\n    page_url: \"#\"\n  },\n  {\n    image_url: \"https://via.placeholder.com/400x200\",\n    author: \"Bob Brown\",\n    blog_date: \"2024-07-18\",\n    blog_read_time: \"3 min read\",\n    short_title: \"Dummy Title 4\",\n    long_title: \"This is a longer description for the dummy article 4. It provides additional context and details.\",\n    page_url: \"#\"\n  },\n  {\n    image_url: \"https://via.placeholder.com/400x200\",\n    author: \"Charlie Davis\",\n    blog_date: \"2024-07-17\",\n    blog_read_time: \"7 min read\",\n    short_title: \"Dummy Title 5\",\n    long_title: \"This is a longer description for the dummy article 5. It provides additional context and details.\",\n    page_url: \"#\"\n  },\n  {\n    image_url: \"https://via.placeholder.com/400x200\",\n    author: \"Dana Evans\",\n    blog_date: \"2024-07-16\",\n    blog_read_time: \"5 min read\",\n    short_title: \"Dummy Title 6\",\n    long_title: \"This is a longer description for the dummy article 6. It provides additional context and details.\",\n    page_url: \"#\"\n  }\n];\n\n\nfunction App() {\n  const [articles, setArticles] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1); // Track current page\n  const [currentCategory, setCurrentCategory] = useState(\"zomato\");\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [companyList, setCompanyList] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [open, setOpen] = useState(false);\n  //const base_ip = \"3.231.236.198\";\n  const base_ip = \"127.0.0.1\";\n  //const port = \"8081\";\n  const port = \"8080\";\n  const companyListDummy = [\n    { name: \"zomato\" },\n    { name: \"paytm\" },\n    { name: \"phonepe\" }\n  ];\n\n  useEffect(() => {\n    const cachedArticles = localStorage.getItem('articles');\n    const cachedCategory = localStorage.getItem('currentCategory');\n\n    // if (cachedArticles && cachedCategory === currentCategory) {\n    //   setArticles(JSON.parse(cachedArticles));\n    //   setIsLoading(false);\n    // } else {\n    //   fetchNews(currentCategory);\n    // }\n    fetchNews(currentCategory);\n  }, [currentCategory]);\n\n  useEffect(() => {\n    fetchCompanies();\n  }, []);\n\n  useEffect(() => {\n    const handleScroll = () => {\n      if (window.innerHeight + window.scrollY >= document.body.offsetHeight) {\n        setCurrentPage((prevPage) => prevPage + 1); // Load next page\n      }\n    };\n\n    window.addEventListener('scroll', handleScroll);\n    return () => {\n      window.removeEventListener('scroll', handleScroll);\n    };\n  }, []);\n\n  const fetchCompanies = async () => {\n    const baseUrl = `https://uniblog.click/api/companies`;\n    //const baseUrl = `http://localhost:8080/api/companies`;\n\n    try {\n      const res = await fetch(baseUrl, {\n        credentials: 'include'\n      });\n\n      if (!res.ok) {\n        throw new Error('Network response was not ok');\n      }\n\n      const data = await res.json();\n      setCompanyList(data.companies || []);\n    } catch (error) {\n      console.error(\"Error fetching companies:\", error);\n      setCompanyList(companyListDummy);\n    }\n  };\n\n  const fetchNews = async (query) => {\n    const baseUrl = `https://uniblog.click/api/articles`;\n    //const baseUrl = `http://localhost:8080/api/articles`;\n    const newsUrl = `${baseUrl}?company=${query || currentCategory}`;\n    console.log(newsUrl);\n    try {\n      const res = await fetch(newsUrl, {\n        credentials: 'include'\n      });\n\n      if (!res.ok) {\n        throw new Error('Network response was not ok');\n      }\n\n      const data = await res.json();\n\n      if (Array.isArray(data.articles)) {\n        if (data.articles.length === 0) {\n          setArticles(dummyArticles);\n          localStorage.setItem('articles', JSON.stringify(dummyArticles)); // Cache dummy data\n        } else {\n          setArticles(data.articles);\n          localStorage.setItem('articles', JSON.stringify(data.articles)); // Cache actual data\n        }\n      } else {\n        setArticles(dummyArticles);\n        localStorage.setItem('articles', JSON.stringify(dummyArticles)); // Cache dummy data\n      }\n      localStorage.setItem('currentCategory', currentCategory); // Cache current category\n    } catch (error) {\n      console.error(\"Error fetching news:\", error);\n      setArticles(dummyArticles);\n      localStorage.setItem('articles', JSON.stringify(dummyArticles)); // Cache dummy data\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleSearch = (selectedCompany) => {\n    setSearchQuery(selectedCompany);\n    fetchNews(selectedCompany);\n    setCurrentCategory(null);\n  };\n\n  const scrollToTop = () => {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    });\n  };\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleSearchSubmit = () => {\n    handleSearch(searchQuery);\n    handleClose();\n  };\n\n  return (\n    <div className=\"App\">\n      <nav>\n        <div className=\"main-nav container flex\">\n          <a href=\"#\" onClick={reload} className=\"company-logo\">\n            <img src=\"assets/uniBlog_logo.png\" alt=\"company logo\" />\n          </a>\n          <div className=\"search-bar flex\">\n            <Button className=\"company-search\" variant=\"contained\" color=\"primary\" onClick={handleClickOpen}>\n              Search Company\n            </Button>\n          </div>\n        </div>\n      </nav>\n      <CardTamplate isLoading={isLoading} error={error} articles={articles}  />\n      \n\n      <footer className=\"footer\">\n        <div className=\"container footer-text\">\n          <p>&copy; 2024 UniBlog. All rights reserved.</p>\n        </div>\n      </footer>\n\n      <button className=\"back-to-top-floating\" onClick={scrollToTop}>\n        <i className=\"fas fa-arrow-up\"></i> {/* Font Awesome Arrow Icon */}\n      </button>\n\n\n      {/* Search Popup */}\n      <Dialog open={open} onClose={handleClose} fullWidth maxWidth=\"sm\">\n        <DialogTitle>\n          Search Company\n          <IconButton\n            edge=\"end\"\n            color=\"inherit\"\n            onClick={handleClose}\n            aria-label=\"close\"\n            style={{ position: 'absolute', right: 16, top: 8 }}\n          >\n            <CloseIcon />\n          </IconButton>\n        </DialogTitle>\n        <DialogContent>\n          <Autocomplete\n            options={companyList}\n            getOptionLabel={(option) => option.name}\n            onChange={(event, value) => setSearchQuery(value?.name || '')}\n            renderInput={(params) => (\n              <TextField\n                {...params}\n                id=\"search-text\"\n                type=\"text\"\n                placeholder=\"Search companies\"\n                fullWidth\n                autoFocus\n              />\n            )}\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={handleSearchSubmit} color=\"primary\">\n            Search\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n\nexport default App;\n\nfunction reload() {\n  window.location.reload();\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'; // Adjust the path if necessary\nimport './index.css'; // Optional: Import CSS if you have styling for your app\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}